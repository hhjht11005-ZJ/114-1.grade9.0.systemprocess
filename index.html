<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é›»è…¦é¤å»³ é‹ä½œæµç¨‹</title>
    <style>
        /* CSS æ¨£å¼ - è² è²¬ç¶²é çš„ã€Œå¤–è§€ã€*/
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
            background-color: #f0f4f8;
            color: #333;
            text-align: center;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            line-height: 1.6;
        }

        h1 {
            color: #0056b3;
        }

        /* é¤å»³çš„ä½ˆå±€ */
        .restaurant-layout {
            position: relative;
            width: 90%;
            max-width: 900px;
            height: 500px;
            background-color: #ffffff;
            border: 2px solid #ddd;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            margin-top: 20px;
            overflow: hidden; /* ç¢ºä¿ data-packet ä¸æœƒè·‘å‡ºå» */
        }

        /* é¤å»³å“¡å·¥ (ç¡¬é«”çµ„ä»¶) */
        .component {
            position: absolute;
            width: 120px;
            height: 120px;
            border: 3px dashed #ccc;
            border-radius: 10px;
            background-color: #fafafa;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: all 0.3s ease;
            padding: 5px;
            box-sizing: border-box; /* ç¢ºä¿ padding ä¸æœƒå½±éŸ¿å¯¬é«˜ */
        }

        .component .icon {
            font-size: 36px;
        }

        .component .label {
            font-size: 14px;
            font-weight: bold;
            margin-top: 5px;
        }

        /* å“¡å·¥ä½ç½® */
        #input   { top: 200px; left: 30px; }
        #os      { top: 50px;  left: 150px; }
        #cpu     { top: 200px; left: 300px; }
        #storage { top: 350px; left: 200px; }
        #ram     { top: 350px; left: 400px; }
        #gpu     { top: 50px;  left: 550px; }
        #sound   { top: 200px; left: 550px; }
        #output  { top: 200px; right: 30px; }

        /* å‹•æ…‹æ•ˆæœï¼šè¢«é»äº® (å·¥ä½œä¸­) */
        .component.highlight {
            border-style: solid;
            border-color: #ff6347;
            background-color: #fff5f3;
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(255, 99, 71, 0.5);
        }

        /* "é»èœå–®" (è³‡æ–™åŒ…) */
        #dataPacket {
            position: absolute;
            font-size: 30px;
            /* åˆå§‹ä½ç½®è—åœ¨ "è¼¸å…¥" çš„åœ°æ–¹ */
            top: 230px; 
            left: 60px;
            transition: all 1.2s cubic-bezier(0.4, 0, 0.2, 1); /* çµ²æ»‘çš„ç§»å‹•å‹•ç•« */
            z-index: 10;
            opacity: 0; /* é è¨­éš±è— */
        }

        /* æ§åˆ¶æŒ‰éˆ• */
        .controls {
            margin: 20px;
        }
        button {
            font-size: 16px;
            padding: 12px 24px;
            border-radius: 8px;
            border: none;
            background-color: #007bff;
            color: white;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #0056b3;
        }
        button:disabled {
            background-color: #aaa;
            cursor: not-allowed;
        }
        #resetButton {
            background-color: #6c757d;
            margin-left: 10px;
        }
        #resetButton:hover {
            background-color: #5a6268;
        }

        /* æµç¨‹èªªæ˜æ¡† */
        .log-box {
            width: 90%;
            max-width: 900px;
            margin-top: 20px;
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            text-align: left;
            min-height: 50px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .log-box h4 {
            margin-top: 0;
            color: #333;
        }
        .log-box p {
            margin-bottom: 0;
            font-size: 16px;
            color: #0056b3;
            font-weight: bold;
        }

    </style>
</head>
<body>

    <h1>æ­¡è¿å…‰è‡¨ã€Œé›»è…¦æœªä¾†é¤å»³ã€ï¼</h1>
    <p>é»æ“ŠæŒ‰éˆ•ï¼Œçœ‹çœ‹ä¸€ä»½ã€ŒYouTube å½±ç‰‡è¨‚å–®ã€æ˜¯å¦‚ä½•å®Œæˆçš„ï¼</p>

    <div class="controls">
        <button id="startButton">é»æ’­ YouTube å½±ç‰‡</button>
        <button id="resetButton" style="display: none;">é‡ä¾†ä¸€æ¬¡</button>
    </div>

    <div id="log" class="log-box">
        <h4>æµç¨‹èªªæ˜ï¼š</h4>
        <p>è«‹é»æ“Šé–‹å§‹æŒ‰éˆ•...</p>
    </div>

    <div class="restaurant-layout">
        
        <div id="dataPacket">ğŸ“‹</div>

        <div class="component" id="input">
            <div class="icon">âŒ¨ï¸ğŸ–±ï¸</div>
            <div class="label">ä½  (è¼¸å…¥)</div>
        </div>
        <div class="component" id="os">
            <div class="icon">ğŸ§ </div>
            <div class="label">ç¶“ç† (OS)</div>
        </div>
        <div class="component" id="cpu">
            <div class="icon">ğŸ§‘â€ğŸ³</div>
            <div class="label">ä¸»å»š (CPU)</div>
        </div>
        <div class="component" id="storage">
            <div class="icon">ğŸ§Š</div>
            <div class="label">å¤§å†°ç®± (ç¡¬ç¢Ÿ)</div>
        </div>
        <div class="component" id="ram">
            <div class="icon">ğŸ³</div>
            <div class="label">æµç†è‡º (RAM)</div>
        </div>
        <div class="component" id="gpu">
            <div class="icon">ğŸ¨</div>
            <div class="label">æ“ºç›¤å¸« (GPU)</div>
        </div>
        <div class="component" id="sound">
            <div class="icon">ğŸ¶</div>
            <div class="label">éŸ³æ•ˆå¸« (éŸ³æ•ˆå¡)</div>
        </div>
        <div class="component" id="output">
            <div class="icon">ğŸ–¥ï¸ğŸ”Š</div>
            <div class="label">ä¸Šèœå£ (è¼¸å‡º)</div>
        </div>
    </div>

    <script>
        // JavaScript - è² è²¬ç¶²é çš„ã€Œè¡Œç‚ºã€å’Œã€Œå‹•æ…‹ã€

        // 1. å–å¾—æ‰€æœ‰éœ€è¦æ§åˆ¶çš„ HTML å…ƒç´ 
        const startButton = document.getElementById('startButton');
        const resetButton = document.getElementById('resetButton');
        const dataPacket = document.getElementById('dataPacket');
        const logBox = document.getElementById('log').querySelector('p');
        
        // å–å¾—æ‰€æœ‰ "å“¡å·¥"
        const components = {
            input: document.getElementById('input'),
            os: document.getElementById('os'),
            cpu: document.getElementById('cpu'),
            storage: document.getElementById('storage'),
            ram: document.getElementById('ram'),
            gpu: document.getElementById('gpu'),
            sound: document.getElementById('sound'),
            output: document.getElementById('output')
        };

        const initialPacketPos = { top: '230px', left: '60px' };

        // 2. å¹«æŒ‰éˆ•åŠ ä¸Š "é»æ“Š" äº‹ä»¶
        startButton.addEventListener('click', runAnimation);
        resetButton.addEventListener('click', resetAnimation);

        // 3. è¼”åŠ©å·¥å…·ï¼š
        
        // "ç¡è¦º" å‡½å¼ (ç­‰å¾… X æ¯«ç§’)
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        // ç§»é™¤æ‰€æœ‰ "highlight" ç‹€æ…‹
        function clearHighlights() {
            Object.values(components).forEach(el => el.classList.remove('highlight'));
        }

        // ç§»å‹• "é»èœå–®" åˆ°æŒ‡å®šå“¡å·¥çš„ä½ç½®
        function movePacketTo(element) {
            const target = element;
            // è¨ˆç®—ç›®æ¨™ä¸­å¿ƒé»ä½ç½®
            const top = target.offsetTop + (target.offsetHeight / 2) - 20 + 'px';
            const left = target.offsetLeft + (target.offsetWidth / 2) - 15 + 'px';
            dataPacket.style.top = top;
            dataPacket.style.left = left;
        }

        // æ›´æ–°æµç¨‹èªªæ˜
        function updateLog(message) {
            logBox.textContent = message;
        }

        // 4. é‡ç½®å‹•ç•«
        function resetAnimation() {
            clearHighlights();
            updateLog('è«‹é»æ“Šé–‹å§‹æŒ‰éˆ•...');
            dataPacket.style.opacity = '0'; // éš±è—
            dataPacket.style.top = initialPacketPos.top;
            dataPacket.style.left = initialPacketPos.left;
            
            startButton.disabled = false;
            resetButton.style.display = 'none';
        }

        // 5. ä¸»è¦çš„å‹•ç•«æµç¨‹ (ä½¿ç”¨ async/await ä¾†ä¾åºåŸ·è¡Œ)
        async function runAnimation() {
            // é–‹å§‹ï¼
            startButton.disabled = true; // é˜²æ­¢é‡è¤‡é»æ“Š
            resetButton.style.display = 'inline-block';
            clearHighlights();
            dataPacket.style.opacity = '1'; // é¡¯ç¤ºé»èœå–®

            // æ­¥é©Ÿ 1: é»é¤ (è¼¸å…¥)
            components.input.classList.add('highlight');
            updateLog('æ­¥é©Ÿ 1: ä½  (é¡§å®¢) é»æ“Šäº†æ’­æ”¾æŒ‰éˆ•ï¼');
            await sleep(2000);

            // æ­¥é©Ÿ 2: æœå‹™ç”Ÿè½‰å‘Šç¶“ç† (OS)
            clearHighlights();
            components.os.classList.add('highlight');
            movePacketTo(components.os);
            updateLog('æ­¥é©Ÿ 2: "æœå‹™ç”Ÿ"(æ»‘é¼ ) å°‡æŒ‡ä»¤ ğŸ“‹ äº¤çµ¦ "é¤å»³ç¶“ç†"(OS)ã€‚');
            await sleep(2000);

            // æ­¥é©Ÿ 3: ç¶“ç†åˆ†æ´¾ä»»å‹™çµ¦ä¸»å»š (CPU)
            clearHighlights();
            components.cpu.classList.add('highlight');
            movePacketTo(components.cpu);
            updateLog('æ­¥é©Ÿ 3: "ç¶“ç†"(OS) åˆ¤æ–·éœ€è¦ "ä¸»å»š"(CPU) ä¾†è™•ç†é€™å€‹å½±ç‰‡ä»»å‹™ï¼');
            await sleep(2000);

            // æ­¥é©Ÿ 4: ä¸»å»šæº–å‚™é£Ÿæ (Storage -> RAM)
            clearHighlights();
            components.cpu.classList.add('highlight');
            components.storage.classList.add('highlight');
            movePacketTo(components.storage);
            updateLog('æ­¥é©Ÿ 4a: "ä¸»å»š"(CPU) å…ˆè·‘å» "å¤§å†°ç®±"(ç¡¬ç¢Ÿ/SSD) æ‹¿å–å½±ç‰‡ç¨‹å¼å’Œè³‡æ–™ã€‚');
            await sleep(2000);

            clearHighlights();
            components.cpu.classList.add('highlight');
            components.ram.classList.add('highlight');
            movePacketTo(components.ram);
            updateLog('æ­¥é©Ÿ 4b: "ä¸»å»š" æŠŠç­‰ä¸‹è¦ç”¨çš„é£Ÿæ ğŸ“‹ æ”¾åˆ° "æµç†è‡º"(RAM) ä¸Šã€‚');
            await sleep(2000);

            // æ­¥é©Ÿ 5: ä¸»å»šé–‹å§‹æ–™ç† (Processing)
            clearHighlights();
            components.cpu.classList.add('highlight');
            components.ram.classList.add('highlight');
            movePacketTo(components.cpu); // èœå–®å›åˆ°ä¸»å»šæ‰‹ä¸Š
            updateLog('æ­¥é©Ÿ 5: "ä¸»å»š"(CPU) åœ¨ "æµç†è‡º"(RAM) ä¸Šç˜‹ç‹‚æ–™ç† (è§£ç¢¼å½±ç‰‡)ï¼');
            await sleep(2500);

            // æ­¥é©Ÿ 6: åˆ†å·¥ï¼æ“ºç›¤èˆ‡ä¸Šèœ (GPU & Sound)
            clearHighlights();
            components.gpu.classList.add('highlight');
            movePacketTo(components.gpu);
            updateLog('æ­¥é©Ÿ 6a: æ–™ç†å¥½çš„ã€Œç•«é¢ã€äº¤çµ¦ "æ“ºç›¤è—è¡“å®¶"(GPU) é€²è¡Œç²¾ç·»åŒ–è™•ç†ã€‚');
            await sleep(2000);

            clearHighlights();
            components.sound.classList.add('highlight');
            movePacketTo(components.sound);
            updateLog('æ­¥é©Ÿ 6b: æ–™ç†å¥½çš„ã€Œè²éŸ³ã€äº¤çµ¦ "éŸ³æ•ˆå¸«"(éŸ³æ•ˆå¡) æº–å‚™æ’­æ”¾ã€‚');
            await sleep(2000);

            // æ­¥é©Ÿ 7: é¤é»é€åˆ°ä½ é¢å‰ (Output)
            clearHighlights();
            components.output.classList.add('highlight');
            movePacketTo(components.output);
            updateLog('æ­¥é©Ÿ 7: ä¸Šèœï¼ã€Œç•«é¢ã€å’Œã€Œè²éŸ³ã€åŒæ™‚é€åˆ° "ä¸Šèœå£"(è¢å¹•/å–‡å­)ï¼');
            await sleep(3000);

            // å®Œæˆ
            clearHighlights();
            components.output.classList.add('highlight');
            updateLog('æµç¨‹å®Œæˆï¼ä½ æˆåŠŸçœ‹åˆ°äº† YouTube å½±ç‰‡ï¼');
            dataPacket.style.opacity = '0'; // ä»»å‹™å®Œæˆï¼Œéš±è—èœå–®
        }

    </script>

</body>
</html>